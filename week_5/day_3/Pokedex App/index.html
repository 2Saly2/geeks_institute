<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokedex App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-red-100 to-red-300 flex flex-col items-center justify-center min-h-screen font-sans">

  <!-- LOGO -->
  <img src="imgeges/logo (2).png"
       alt="logo"
       class="w-64 mb-6 z-10">

  <!-- MAIN POKEDEX CONTAINER -->
  <div class="relative w-[800px] h-[500px] flex justify-center items-center">
    <!-- Pokédex background image -->
    <img src="imgeges/pokedex.png"
         alt="pokedex"
         class="w-[800px] h-auto object-contain z-0">

    <!-- Pokémon Screen -->
    <div id="pokemon-screen"
         class="absolute top-[35px] left-[285px] w-[220px] h-[150px] bg-[#1e3a8a] rounded-lg flex justify-center items-center z-10 shadow-inner">
      <span id="loading" class="text-white text-sm">Press the green button!</span>
    </div>

    <!-- Pokémon Info -->
    <div id="pokemon-info"
         class="absolute top-[325px] left-[299px] w-[210px] bg-amber-50 rounded-lg p-3 text-center border border-amber-200 shadow-md z-10">
      <h2 class="text-lg font-bold text-gray-800">Pokedex</h2>
      <p class="text-sm text-gray-700">Pokemon n° --</p>
      <p class="text-sm text-gray-700">Height: --</p>
      <p class="text-sm text-gray-700">Weight: --</p>
      <p class="text-sm text-gray-700">Type: --</p>
    </div>

    <!-- Random Button (Green) -->
    <button id="random-btn"
            class="absolute top-[362px] right-[79px] w-16 h-16 rounded-full bg-green-500 border-4 border-gray-700 hover:bg-green-600 active:scale-95 transition z-20"></button>

    <!-- Prev & Next Buttons -->
    <button id="prev-btn"
            class="absolute top-[380px] left-[120px] bg-gray-700 text-white text-sm px-3 py-1 rounded-md hover:bg-gray-600 active:scale-95 transition z-20">◀</button>

    <button id="next-btn"
            class="absolute top-[380px] left-[190px] bg-gray-700 text-white text-sm px-3 py-1 rounded-md hover:bg-gray-600 active:scale-95 transition z-20">▶</button>

    <!-- How to use -->
    <div class="absolute top-[40px] -right-[250px] text-left w-60 z-10">
      <h3 class="font-bold mb-2 text-lg">How to use:</h3>
      <p class="text-sm mb-1">1 - Press the <b class="text-green-600">green</b> button to get a random Pokémon.</p>
      <p class="text-sm">2 - Use <b>◀</b> and <b>▶</b> to navigate between Pokémon.</p>
    </div>
  </div>

  <script>
    const screen = document.getElementById("pokemon-screen");
    const info = document.getElementById("pokemon-info");
    const randomBtn = document.getElementById("random-btn");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");

    let currentPokemon = 25; // Default Pikachu

    async function fetchPokemon(id) {
      try {
        screen.innerHTML = `<span id="loading" class="text-white text-sm">Loading...</span>`;
        const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
        if (!response.ok) throw new Error("Pokemon not found");
        const data = await response.json();

        const name = data.name.charAt(0).toUpperCase() + data.name.slice(1);
        const type = data.types.map(t => t.type.name).join(", ");
        const height = data.height;
        const weight = data.weight;
        const image = data.sprites.front_default;

        screen.innerHTML = `<img src="${image}" alt="${name}" class="w-[110px] h-[110px]">`;

        info.innerHTML = `
          <h2 class="text-lg font-bold text-gray-800">${name}</h2>
          <p class="text-sm text-gray-700">Pokemon n° ${data.id}</p>
          <p class="text-sm text-gray-700">Height: ${height}cm</p>
          <p class="text-sm text-gray-700">Weight: ${weight}gr</p>
          <p class="text-sm text-gray-700">Type: ${type}</p>
        `;

        currentPokemon = data.id;
      } catch (error) {
        screen.innerHTML = `<span class="text-red-200 text-sm">Oh no! That Pokémon isn’t available…</span>`;
      }
    }

    randomBtn.addEventListener("click", () => {
      const randomId = Math.floor(Math.random() * 898) + 1;
      fetchPokemon(randomId);
    });

    prevBtn.addEventListener("click", () => {
      if (currentPokemon > 1) fetchPokemon(currentPokemon - 1);
    });

    nextBtn.addEventListener("click", () => {
      fetchPokemon(currentPokemon + 1);
    });

    fetchPokemon(currentPokemon);
  </script>
</body>
</html>
